Алгоритм действий


1. Создание сертификатов:

 - Сгенерировать закрытый ключ для сервера и клиента с помощью функций OpenSSL. +

 - С использованием закрытого ключа сгенерировать самоподписанный сертификат для сервера и клиента. +/-

 - Экспортировать публичные ключи в отдельные файлы, которые будут использоваться в качестве сертификатов.



 2. Установка соединения:

 - Использовать TCP-сокеты для установки соединения между сервером и клиентом.

 - Использовать SSL/TLS для обеспечения защиты соединения.

 - Импортировать сертификаты сервера и клиента в соответствующие SSL структуры.



 3. Аутентификация:

 - При установке соединения, сервер должен предъявить свой сертификат клиенту для аутентификации.

 - Клиент должен проверить сертификат сервера на подлинность и доверенность.

 - Клиент также должен предъявить свой сертификат серверу для взаимной аутентификации.



 4. Обмен файлами:

 - После установки защищенного соединения, клиент может отправить файлы серверу или загрузить файлы от сервера.

 - Для защищенной передачи файлов можно использовать соответствующие функции OpenSSL для шифрования и расшифрования данных.

 - Клиент и сервер должны использовать общий сеансовый ключ, сгенерированный после успешного выполнения аутентификации.



 5. Закрытие соединения:

 - После завершения передачи файлов, клиент или сервер должны закрыть соединение и освободить ресурсы.

